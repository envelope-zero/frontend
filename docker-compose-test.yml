version: '3'
services:
  backend:
    image: ghcr.io/envelope-zero/backend:v1.0.2
    ports:
      - '8081:8080'
    environment:
      API_URL: http://localhost:8081
      CORS_ALLOW_ORIGINS: http://localhost:3001

  frontend:
    image: node:18.9.0-alpine
    working_dir: /app
    command: ['npm', 'run', 'start']
    ports:
      - '3001:3000'
    volumes:
      - ./:/app
    environment:
      REACT_APP_API_ENDPOINT: http://localhost:8081
      BROWSER: none # Don't open a browser
